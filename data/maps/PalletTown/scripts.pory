raw `
PalletTown_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, PalletTown_OnTransition
	.byte 0

PalletTown_OnTransition:
	setflag FLAG_VISITED_PALLET_TOWN
	end

PalletTown_EventScript_SignLady::
	msgbox PalletTown_Text_RaisingMonsToo, MSGBOX_NPC
	end

PalletTown_EventScript_FatMan::
	msgbox PalletTown_Text_CanStoreItemsAndMonsInPC, MSGBOX_NPC
	end

PalletTown_EventScript_OaksLabSign::
	lockall
	msgbox PalletTown_Text_OakPokemonResearchLab
	releaseall
	end

PalletTown_EventScript_PlayersHouseSign::
	msgbox PalletTown_Text_PlayersHouse, MSGBOX_SIGN
	end

PalletTown_EventScript_RivalsHouseSign::
	msgbox PalletTown_Text_RivalsHouse, MSGBOX_SIGN
	end

PalletTown_EventScript_TownSign::
	msgbox PalletTown_Text_TownSign, MSGBOX_SIGN
	end

PalletTown_EventScript_TrainerTips::
	lockall
	msgbox PalletTown_Text_PressStartToOpenMenu
	releaseall
	end

PalletTown_Text_RaisingMonsToo::
    .string "I'm raising POKéMON, too.\p"
    .string "When they get strong, they can\n"
    .string "protect me.$"

PalletTown_Text_CanStoreItemsAndMonsInPC::
    .string "Technology is incredible!\p"
    .string "You can now store and recall items\n"
    .string "and POKéMON as data via PC.$"

PalletTown_Text_OakPokemonResearchLab::
    .string "OAK POKéMON RESEARCH LAB$"

PalletTown_Text_PlayersHouse::
    .string "{PLAYER}'s house$"

PalletTown_Text_RivalsHouse::
    .string "{RIVAL}'s house$"

PalletTown_Text_TownSign::
    .string "PALLET TOWN\n"
    .string "Shades of your journey await!$"

PalletTown_Text_PressStartToOpenMenu::
	.string "TRAINER TIPS\p"
	.string "Press START to open the MENU!$"
`

const LOCALID_CELEBI = 3

script PalletTown_EventScript_Talk_To_Celebi {
	lockall
	applymovement(LOCALID_CELEBI, moves(face_player, emote_exclamation_mark))
	msgbox(PalletTown_EventScript_Ask_Celebi, MSGBOX_YESNO)
	goto_if_eq(VAR_RESULT, YES, PalletTown_EventScript_Celebi_Back_In_Time)
	msgbox(PalletTown_EventScript_Refuse_Celebi, MSGBOX_NPC)
	releaseall
	end
}

script PalletTown_EventScript_Celebi_Back_In_Time {
	fadenewbgm(MUS_CAVE_OF_ORIGIN)
	msgbox(LittlerootTown_EventScript_Accepted_Celebi, MSGBOX_NPC)
	setvar(VAR_RESULT, 2)
	special(DoOrbEffect)
	lockall
	delay(150)
	playmoncry(SPECIES_CELEBI, CRY_MODE_ENCOUNTER)
	special(FadeOutOrbEffect)
	lockall
	delay(30)
	waitmoncry
	playse(SE_SHINY)
	checkplayergender
	goto_if_eq(VAR_RESULT, MALE, PalletTown_EventScript_Celebi_Male)
	goto_if_eq(VAR_RESULT, FEMALE, PalletTown_EventScript_Celebi_Female)
}

script PalletTown_EventScript_Celebi_Male {
	setrespawn(HEAL_LOCATION_LITTLEROOT_TOWN_BRENDANS_HOUSE_2F)
	warpteleport(MAP_LITTLEROOT_TOWN_BRENDANS_HOUSE_2F, 1, 4)
	releaseall
	end
}

script PalletTown_EventScript_Celebi_Female {
	setrespawn(HEAL_LOCATION_LITTLEROOT_TOWN_MAYS_HOUSE_2F)
	warpteleport(MAP_LITTLEROOT_TOWN_MAYS_HOUSE_2F, 7, 4)
	releaseall
	end
}

text PalletTown_EventScript_Ask_Celebi {
	"It appears Celebi wants you to \n"
	"follow it...\l"
	"Do you wish to go with Celebi?"
}

text PalletTown_EventScript_Refuse_Celebi {
	"Yeah, FireRed is pretty cool."
}

text PalletTown_EventScript_Accepted_Celebi {
	"You enter a different reality..."
}